<!DOCTYPE html>
<html>
<head>
    <title>Status Drop-down with Date Validation</title>
</head>
<body>
    <h2>Task Status</h2>
    <label for="status">Status:</label>
    <select id="status" onchange="updateOptions()">
        <option value="completed">Completed</option>
        <option value="inProgress">In Progress</option>
        <option value="duePassed">Due Passed</option>
        <option value="cancelled">Cancelled</option>
    </select>
    <br><br>
    <label for="startDate">Start Date:</label>
    <input type="date" id="startDate" onchange="updateOptions()">
    <br><br>
    <label for="endDate">End Date:</label>
    <input type="date" id="endDate" onchange="updateOptions()">
    <br><br>
    <script>
        function updateOptions() {
            const statusDropdown = document.getElementById('status');
            const endDateInput = document.getElementById('endDate');
            const presentDate = new Date();
            
            const endDate = new Date(endDateInput.value);

            if (endDate < presentDate) {
                // Disable "In Progress" and "Due Passed" options
                for (let i = 0; i < statusDropdown.options.length; i++) {
                    if (statusDropdown.options[i].value === 'inProgress' || statusDropdown.options[i].value === 'duePassed') {
                        statusDropdown.options[i].disabled = true;
                    } else {
                        statusDropdown.options[i].disabled = false;
                    }
                }
            } else if (endDate.toDateString() === presentDate.toDateString()) {
                // Disable "Due Passed" option
                for (let i = 0; i < statusDropdown.options.length; i++) {
                    if (statusDropdown.options[i].value === 'duePassed') {
                        statusDropdown.options[i].disabled = true;
                    } else {
                        statusDropdown.options[i].disabled = false;
                    }
                }
            } else {
                // Disable "Due Passed" option
                for (let i = 0; i < statusDropdown.options.length; i++) {
                    if (statusDropdown.options[i].value === 'duePassed') {
                        statusDropdown.options[i].disabled = true;
                    } else {
                        statusDropdown.options[i].disabled = false;
                    }
                }
            }
        }
    </script>
</body>
</html>
